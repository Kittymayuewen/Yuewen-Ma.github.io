<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
	<link href="./css/leaflet.css" rel="stylesheet" />
	<script src="./js/leaflet.js"></script>
	<style>
		#map {
			width: 1200px;
			height: 800px;
			border: 1px solid black;
			margin-left: auto;
			background-color: forestgreen;
		}

		.contentleft {
			flex: 1;

			width: 200px;
			/* 设置左侧容器的宽度 */
			height: 800px;
			overflow: hidden;
			/* 隐藏溢出的内容 */
			overflow-y: scroll;
		}

		.contentleft img {
			width: 100%;

		}
	</style>
</head>

<body>
	<div style="display:flex;">
		<div class="contentleft">
			<!-- 这里添加你的图片链接 -->
			<img class="image" src="image/map/1.jpeg" alt="Image 1">
			<img class="image" src="image/map/2.jpeg" alt="Image 2">
			<img class="image" src="image/map/3.jpg" alt="Image 3">
			<img class="image" src="image/map/4.jpg" alt="Image 4">
			<img class="image" src="image/map/5.jpeg" alt="Image 5">
			<img class="image" src="image/map/6.jpeg" alt="Image 6">
			<img class="image" src="image/map/7.jpeg" alt="Image 7">
			<img class="image" src="image/map/8.jpeg" alt="Image 8">
			<img class="image" src="image/map/9.jpeg" alt="Image 9">
			<img class="image" src="image/map/10.jpeg" alt="Image 10">
			<img class="image" src="image/map/11.jpeg" alt="Image 11">
			<img class="image" src="image/map/12.jpeg" alt="Image 12">
			<img class="image" src="image/map/13.jpeg" alt="Image 13">
			<img class="image" src="image/map/14.jpeg" alt="Image 14">
			<img class="image" src="image/map/15.jpeg" alt="Image 15">
			<img class="image" src="image/map/16.jpeg" alt="Image 16">
			<img class="image" src="image/map/17.jpeg" alt="Image 17">
			<img class="image" src="image/map/18.jpeg" alt="Image 18">
			<img class="image" src="image/map/19.jpeg" alt="Image 19">
			<img class="image" src="image/map/20.jpeg" alt="Image 20">
			<img class="image" src="image/map/21.jpeg" alt="Image 21">
			<img class="image" src="image/map/22.jpeg" alt="Image 22">
			<img class="image" src="image/map/23.jpeg" alt="Image 23">
			<img class="image" src="image/map/24.jpeg" alt="Image 24">
			<img class="image" src="image/map/25.jpeg" alt="Image 25">
			<img class="image" src="image/map/26.jpeg" alt="Image 26">
			<img class="image" src="image/map/27.jpeg" alt="Image 27">
			<img class="image" src="image/map/28.png" alt="Image 28">
			<img class="image" src="image/map/29.jpeg" alt="Image 29">
			<img class="image" src="image/map/30.jpeg" alt="Image 30">
			<img class="image" src="image/map/31.jpeg" alt="Image 31">
			<img class="image" src="image/map/32.jpeg" alt="Image 32">
			<img class="image" src="image/map/33.jpeg" alt="Image 33">
			<img class="image" src="image/map/34.jpeg" alt="Image 34">
			<img class="image" src="image/map/35.jpeg" alt="Image 35">
			<img class="image" src="image/map/36.jpeg" alt="Image 36">
			<img class="image" src="image/map/37.jpeg" alt="Image 37">
			<img class="image" src="image/map/38.jpeg" alt="Image 38">
			<img class="image" src="image/map/39.jpeg" alt="Image 39">
			<img class="image" src="image/map/40.jpeg" alt="Image 40">
			<img class="image" src="image/map/41.png" alt="Image 41">
			<img class="image" src="image/map/42.jpeg" alt="Image 42">
			<img class="image" src="image/map/43.jpeg" alt="Image 43">
			<img class="image" src="image/map/44.jpeg" alt="Image 44">
			<img class="image" src="image/map/45.png" alt="Image 45">
			<img class="image" src="image/map/46.jpeg" alt="Image 46">
			<img class="image" src="image/map/47.jpeg" alt="Image 47">
			<img class="image" src="image/map/48.png" alt="Image 48">
			<img class="image" src="image/map/49.png" alt="Image 49">
			<img class="image" src="image/map/50.jpeg" alt="Image 50">
			<img class="image" src="image/map/51.jpeg" alt="Image 51">
			<img class="image" src="image/map/52.jpeg" alt="Image 52">
			<img class="image" src="image/map/53.jpeg" alt="Image 53">
			<img class="image" src="image/map/54.jpeg" alt="Image 54">
			<img class="image" src="image/map/55.png" alt="Image 55">
			<img class="image" src="image/map/56.jpeg" alt="Image 56">
			<img class="image" src="image/map/57.jpeg" alt="Image 57">
			<img class="image" src="image/map/58.jpeg" alt="Image 58">
			<img class="image" src="image/map/59.jpeg" alt="Image 59">
			<img class="image" src="image/map/60.jpeg" alt="Image 60">
			<img class="image" src="image/map/61.jpeg" alt="Image 61">
			<img class="image" src="image/map/62.jpeg" alt="Image 62">
			<img class="image" src="image/map/63.jpeg" alt="Image 63">
			<img class="image" src="image/map/64.jpeg" alt="Image 64">
			<img class="image" src="image/map/65.jpeg" alt="Image 65">
			<img class="image" src="image/map/66.jpeg" alt="Image 66">
			<img class="image" src="image/map/67.jpeg" alt="Image 67">
			<img class="image" src="image/map/68.jpeg" alt="Image 68">
			<img class="image" src="image/map/69.jpeg" alt="Image 69">
			<img class="image" src="image/map/70.jpeg" alt="Image 70">
			<img class="image" src="image/map/71.jpeg" alt="Image 71">
			<img class="image" src="image/map/72.jpeg" alt="Image 72">
			<img class="image" src="image/map/73.jpeg" alt="Image 73">
			<img class="image" src="image/map/74.jpeg" alt="Image 74">
			<img class="image" src="image/map/75.jpeg" alt="Image 75">
			<img class="image" src="image/map/76.jpeg" alt="Image 76">
			<img class="image" src="image/map/77.jpeg" alt="Image 77">
			<img class="image" src="image/map/78.png" alt="Image 78">
			<img class="image" src="image/map/79.jpeg" alt="Image 79">
			<img class="image" src="image/map/80.jpeg" alt="Image 80">
			<img class="image" src="image/map/81.jpeg" alt="Image 81">
			<img class="image" src="image/map/82.jpeg" alt="Image 82">
			<img class="image" src="image/map/83.png" alt="Image 83">
			<img class="image" src="image/map/84.jpeg" alt="Image 84">
			<img class="image" src="image/map/85.jpeg" alt="Image 85">
			<img class="image" src="image/map/86.jpeg" alt="Image 86">
			<img class="image" src="image/map/87.png" alt="Image 87">
			<img class="image" src="image/map/88.png" alt="Image 88">
			<img class="image" src="image/map/89.jpeg" alt="Image 89">
			<img class="image" src="image/map/90.png" alt="Image 90">
			<img class="image" src="image/map/91.jpeg" alt="Image 91">
			<img class="image" src="image/map/92.jpeg" alt="Image 92">
			<img class="image" src="image/map/93.jpeg" alt="Image 93">
			<img class="image" src="image/map/94.jpeg" alt="Image 94">
			<img class="image" src="image/map/95.jpeg" alt="Image 95">
			<img class="image" src="image/map/96.jpeg" alt="Image 96">
			<img class="image" src="image/map/97.jpeg" alt="Image 97">
			<img class="image" src="image/map/98.jpeg" alt="Image 98">
			<!-- 添加更多图片... -->
		</div>
		<div id="map"></div>
	</div>

	<script src="js/leaflet.js" type="text/javascript"></script>
	<script type="text/javascript">
		var imgSrc = null
		var map = L.map("map").setView([40.503264, 111.445640], 7);
		L.tileLayer(
			'http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}',
			{
				attribution: '&copy; <a href="https://863rc.com">中原英才</a>',
				maxZoom: 18,
				subdomains: "1234"
			},
		).addTo(map);


		var baseLayers = {
			"高德地图": L.tileLayer('http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}', {
				subdomains: "1234"
			}).addTo(map),
			'高德影像': L.layerGroup([L.tileLayer('http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}', {
				subdomains: "1234"
			}), L.tileLayer('http://t{s}.tianditu.cn/DataServer?T=cta_w&X={x}&Y={y}&L={z}', {
				subdomains: "1234"
			})]),
			'GeoQ灰色底图': L.tileLayer('http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}'),

			'自定义底图': L.tileLayer('http://10.87.221.254:8091/tiles/{z}/{x}/{y}.png')
		};

		var layercontrol = L.control.layers(baseLayers, {}, {
			position: "topright"
		}).addTo(map);

		var markerIocn = L.icon({
			iconUrl: 'image/icon/树苗.png',
			iconSize: [30, 50]
		});

		map.on('click', function (e) {
			console.log(e);
			var latlng = e.latlng;
			console.log(imgSrc);

			L.marker(latlng, { icon: markerIocn }).addTo(map).bindPopup(`<img src= " ${imgSrc}  " style="width: 100%;" />`)
				.openPopup(); // 显示图片标记;

		});




		// 获取容器和图片列表
		const imageContainer = document.getElementsByClassName('contentleft')[0];

		const imageList = document.getElementsByClassName('image');

		// 设置初始变量
		let isMouseDown = false;
		let startX;
		let scrollLeft;

		// 鼠标按下事件
		imageContainer.addEventListener('mousedown', (e) => {
			console.log(e);
			isMouseDown = true;
			startX = e.pageX - imageContainer.offsetLeft;
			scrollLeft = imageList.scrollLeft;
			imgSrc = e.toElement.getAttribute("src");


		});

		// 鼠标抬起事件
		imageContainer.addEventListener('mouseup', () => {
			isMouseDown = false;
		});

		// 鼠标移动事件
		imageContainer.addEventListener('mousemove', (e) => {
			if (!isMouseDown) return;
			e.preventDefault();
			const x = e.pageX - imageContainer.offsetLeft;
			const walk = (x - startX) * 3; // 调整滑动灵敏度
			imageList.scrollLeft = scrollLeft - walk;
		});



	</script>
</body>

</html>